<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[一台电脑多个github账号设置]]></title>
    <url>%2F2018%2F07%2F21%2F180721-%E4%B8%80%E5%8F%B0%E7%94%B5%E8%84%91%E5%A4%9A%E4%B8%AAgithub%E8%B4%A6%E5%8F%B7%E8%AE%BE%E7%BD%AE%2F</url>
    <content type="text"><![CDATA[如何在一台电脑上使用多个github账号，由于之前已经配置过一个github账号，最近又注册了了一个账号，显然现在多账号的问题出现在自己面前，于是就扒了下多账号的设置。希望对遇到同样问题的你有一点帮助。 生成多个SSH Key进入用户家目录Windows 使用Git Bash, Linux 打开terminal. 各系统对应的目录位置如下：Windows目录: C:\Users\用户名.sshLinux\Mac目录：~/.ssh 1ssh-keygen -t rsa -C email 输入如上命令，email 替换成需要生成key的邮箱回车，由于是多账号，我们需要修改默认的id_rsa 文件的名称，这里我们加上后缀，标实不同的github账号，输入密码部分可以留空或输入，若输入密码后续git push到远程仓库时均需输入此处设置的密码,方便起见我们使用ssh-agent（详见下文），回车若看到如下图所示，表示生成ssh key 成功了，重复如上操作生成多个ssh key。进入用户家目录下的.ssh文件目录下，可以看到我们生成的多组key, id_rsa id_rsa.pub分别对应私钥与公钥 配置Config文件为了让git知道我们用哪个账号提交，这里需要配置config文件，在当前家目录 .ssh文件夹下新建config文件，配置如下内容： 1234567891011121314# 配置github1Host yaonew.com # 自定义的host简称 HostName github.com # 主机名可用ip也可以是域名 IdentityFile C:\\Users\\peeka\\.ssh\\id_rsa_yaonew # 证书文件路径 # 认证方式 可以设为 publickey,password publickey,keyboard-interactive PreferredAuthentications publickey User git # 登录用户名# 配置github2Host marspie.com HostName github.com IdentityFile C:\\Users\\peeka\\.ssh\\id_rsa_marspie PreferredAuthentications publickey User git 配置完以上信息后，git clone的链接应修改为如下: 1234567# 原始clone 地址git@github.com:yaonew/test1.gitgit@github.com:marspie/test2.git# 新clone地址git@yaonew.com:yaonew/test1.gitgit@marspie.com:marspie/test2.git 登陆Github添加公钥分别登陆两个github账号，进入Settings –&gt; SSH and GPG keys，拷贝~/.ssh 下.pub公钥文件内容添加至github SSH连接测试12ssh -T git@github.comssh -T git@marspie.com 当看到如上信息时测试成功，同时远端github的钥匙已变成绿色 本地git设置这样设置过就OK了吗，显然不行，由于之前使用过一个github账号，并设置了全局git账号，这里需要移除1234567891011# 原有全局账号设置git config --golbal user.name &quot;name&quot;git config --golbal user.email &quot;xxx@qq.com&quot;#全局配置账户、邮箱已经移除git config --global --unset user.namegit config --global --unset user.email#查看全局用户名、全局邮箱git config --global user.namegit config --global user.email 然后在具体的工程目录下设置用户及邮箱 12git config user.name yaonewgit config user.email yaonew@126.com 分别做相应账号工程下做相应修改并提及 ssh-agent因为我们生成ssh key设置了密码，每次git push 认证时都需要输入密码，显然这不是我们希望的，ssh-agent是一个密钥管理器，运行ssh-agent以后，使用ssh-add将私钥交给ssh-agent保管，其他程序需要身份验证的时候可以将验证申请交给ssh-agent来完成整个认证过程。 打开 ssh-agent1234# github官方的bashssh-agent -s# 其它，比如msysgiteval $(ssh-agent -s) 添加私钥添加秘钥时输入密码后续的认证就交由ssh-agent了，直接提交丝般顺滑 ^_^ 12ssh-add ~/.ssh/id_rsa_yaonewssh-add ~/.ssh/id_rsa_marspie 愉快的多账号之旅开始了。。。]]></content>
      <categories>
        <category>协作</category>
        <category>git</category>
      </categories>
      <tags>
        <tag>Git</tag>
        <tag>Linux</tag>
        <tag>github</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[微服务从入门到放弃之概述]]></title>
    <url>%2F2017%2F10%2F12%2F171012-%E5%BE%AE%E6%9C%8D%E5%8A%A1%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E6%94%BE%E5%BC%83%E4%B9%8B%E6%A6%82%E8%BF%B0%2F</url>
    <content type="text"><![CDATA[前言微服务真的很火，很新，很潮，很多人说到微服务都能侃侃而谈，各种新鲜的名词、概念、框架止不住地蹦出来，但是：什么时候应当实行微服务呢？实行微服务应当要注意些什么呢？，首先我们了解下新生的微服务架构与传统架构有哪些区别。 传统架构单体架构Web应用发展早期，大部分Web工程将所有的功能模块打包到一起后放到Web容器中运行，很多企业的Jave应用程序打包成war,ear 它们的主要特点： 一个程序包包含了应用所有功能， 通常称之为单体应用。 架构单体应用的架构风格， 我们称之为单体架构， 这是一种比较传统的架构风格。 单体架构缺点 复杂性逐渐变高 - 由于业务的不断修改深入，系统变得越来越庞大，复杂度越来越高。 技术债务逐渐上升 - 参与项目的人员流动，水平不同，人员往往会埋坑，问题没有得到解决，坑越来越多。 部署速度逐渐变慢 - 业务模块增多，代码量不断增多，部署启动速度相应的越来越慢。 阻碍技术创新 - 技术在发展，历史的架构选型注定了系统形态，新的模块需求依然需要使用老旧的技术。 无法按需伸缩（出现IO或CPU瓶颈时需要兼顾或妥协） 微服务架构微服务是什么lMartin Fowler：简而言之，微服务架构风格这种开发方法，是以开发一组小型服务的方式来开发一个独立的应用系统的。其中每个小型服务都运行在自己的进程中，并经常采用HTTP资源API这样轻量的机制来相互通信。这些服务围绕业务功能进行构建，并能通过全自动的部署机制来进行独立部署。这些微服务可以使用不同的语言来编写，并且可以使用不同的数据存储技术。对这些微服务我们仅做最低限度的集中管理。来自：http://www.martinfowler.com/articles/microservices.html 微服务解决了什么微服务特性 每个微服务可独立运行在自己的进程里； 一系列独立运行的微服务共同构建起了整个系统； 每个服务为独立的业务开发，一个微服务一般完成某个特定的功能，比如：订单管理、用户管理等； 微服务之间通过一些轻量的通信机制进行通信，例如通过REST API或者RPC的方式进行调用。 微服务的优点 启动较快 局部修改容易部署 技术栈不受限 按需伸缩 DevOps 微服务带来的挑战 边界清晰 - 软件架构开发中如何合理的划分边界，边界清晰和技术限制之间做出权衡 运维要求较高 - 服务之间相互依赖运维需要清晰的知道服务之间的依赖关系 分布式的复杂性 - 分布式系统固有的复杂性，网络问题，完整的监控，如何保持一致性，事务保障，高可用性等等 接口调整成本高 - 一个服务接口的调整可能涉及到多服务需要同时调整 重复劳动 - 一个个微服务既然名曰”服务”，就得五脏俱全，就得螺蛳壳里做道场, 麻雀虽小五脏全该有的基础功能数据库的访问，工具类使用，IO处理，网络，各个服务里面都得处理。 微服务设计原则 单一职责原则-[Single Responsible Principle] ，即每个服务只做一件事，并把这件事做好； 服务自治原则- 每个微服务需要有自己独立的开发、测试、部署、运维。 轻量级通信原则 - 通讯协议需要跨平台，跨语言，不要绑定技术栈。 接口明确原则 - 一个微服务接口的修改可能相关联的微服务也需要跟着修改，这时需要提前规划好，避免接口修改 总论总的来说，从传统架构到SOA再到微服务架构，微服务带来了很多全新的东西，可以解决传统架构的一些问题，但同时对系统的架构技术也提出的更高的要求，实现微服务也需要一定的前提条件，，我们不能一味的认为微服务架构好。微服务这种分开当家当然潇洒，但要知道自己当家也有自己的累。]]></content>
      <categories>
        <category>微服务</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Docker之旅-使用阿里云Docker镜像库加速]]></title>
    <url>%2F2017%2F09%2F15%2F170915-Docker%E4%B9%8B%E6%97%85-%E4%BD%BF%E7%94%A8%E9%98%BF%E9%87%8C%E4%BA%91Docker%E9%95%9C%E5%83%8F%E5%BA%93%E5%8A%A0%E9%80%9F%2F</url>
    <content type="text"><![CDATA[使用阿里云Docker镜像库加速官方的docker hub 访问实在太慢，国内使用阿里云Docker镜像库,可以大大加快镜像的下载速度，访问Docker镜像库开通了阿里云开发者帐号，进入管理中心，获取您的专属加速器地址。 根据操作文档，选择对应您的操作系统，目前提供了Ubuntu、CentOS、Window、Mac系统的操作说明: 一、Ubuntu安装／升级你的Docker客户端推荐安装1.10.0以上版本的Docker客户端。或执行以下命令： 1curl -sSL http://acs-public-mirror.oss-cn-hangzhou.aliyuncs.com/docker-engine/internet | sh - 使用Docker加速器针对Docker客户端版本大于1.10的用户，可以通过修改daemon配置文件/etc/docker/daemon.json来使用加速器 12345678sudo mkdir -p /etc/dockersudo tee /etc/docker/daemon.json &lt;&lt;-'EOF'&#123; "registry-mirrors": ["https://z8b39a7q.mirror.aliyuncs.com"]&#125;EOFsudo systemctl daemon-reloadsudo systemctl restart docker 二、CentOS安装／升级你的Docker客户端推荐安装1.10.0以上版本的Docker客户端。您可以通过阿里云的镜像仓库下载：docker-ce或执行以下命令：123456789101112131415161718192021222324252627282930313233curl -sSL http://acs-public-mirror.oss-cn-hangzhou.aliyuncs.com/docker-engine/internet | sh -``` ### 如何使用Docker加速器针对Docker客户端版本大于1.10的用户您可以通过修改daemon配置文件/etc/docker/daemon.json来使用加速器：``` bashsudo mkdir -p /etc/dockersudo tee /etc/docker/daemon.json &lt;&lt;-'EOF'&#123; "registry-mirrors": ["https://z8b39a7q.mirror.aliyuncs.com"]&#125;EOFsudo systemctl daemon-reloadsudo systemctl restart docker``` ## 三、Window### 安装／升级你的Docker客户端 1. 对于Windows 10以下的用户 推荐使用 Docker Toolbox Toolbox的介绍和帮助：mirrors.aliyun.com/help/docker-toolbox Windows系统的安装文件目录：http://mirrors.aliyun.com/docker-toolbox/windows/docker-toolbox/ 2. 对于Windows 10以上的用户 推荐使用 Docker for Windows Windows系统的安装文件目录：http://mirrors.aliyun.com/docker-toolbox/windows/docker-for-windows/### 如何使用Docker加速器1. 创建一台安装有Docker环境的Linux虚拟机，指定机器名称为default，同时配置Docker加速器地址。``` bashdocker-machine create --engine-registry-mirror=https://z8b39a7q.mirror.aliyuncs.com -d virtualbox default``` 2. 查看机器的环境配置，并配置到本地，并通过Docker客户端访问Docker服务。``` bashdocker-machine env defaulteval "$(docker-machine env default)"docker info 注意 Docker for Windows 和 Docker Toolbox是不兼容，如果同时安装两者的话，需要使用hyperv的参数启动。 1docker-machine create --engine-registry-mirror=https://z8b39a7q.mirror.aliyuncs.com -d hyperv default Docker for Windows 有两种运行模式，一种运行Windows相关容器，一种运行传统的Linux容器。同一时间只能选择一种模式运行。 四、Mac安装／升级你的Docker客户端1. 对于10.10.3以下的用户 推荐使用 Docker Toolbox Toolbox的介绍和帮助：mirrors.aliyun.com/help/docker-toolbox Mac系统的安装文件目录：http://mirrors.aliyun.com/docker-toolbox/mac/docker-toolbox/ 2. 对于10.10.3以上的用户 推荐使用 Docker for Mac Mac系统的安装文件目录：http://mirrors.aliyun.com/docker-toolbox/mac/docker-for-mac/ 如何使用Docker加速器 创建一台安装有Docker环境的Linux虚拟机，指定机器名称为default，同时配置Docker加速器地址。docker-machine create --engine-registry-mirror=https://z8b39a7q.mirror.aliyuncs.com -d virtualbox default 查看机器的环境配置，并配置到本地，并通过Docker客户端访问Docker服务。docker-machine env default eval "$(docker-machine env default)" docker info 设置完成，接着我们再试下pull一个镜像，是不是有种飞起来的赶脚O(∩_∩)O~]]></content>
      <categories>
        <category>微服务</category>
        <category>docker</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Docker之旅-Docker互联]]></title>
    <url>%2F2017%2F09%2F11%2F170911-Docker%E4%B9%8B%E6%97%85-Docker%E4%BA%92%E8%81%94%2F</url>
    <content type="text"><![CDATA[Docker的互联方式 基于Volume的互联 基于Link的互联 基于网络的互联 基于Volume的互联在docker run 启动一个容器的时候，我们可以通过设置 -v 参数将宿主机目录映射到容器目录，这样容器对映射路径下数据的修改即使在容器被删除的情况下，数据还能够保留。进入learn目录，在此目录下创建 一个文件夹查看容器详情，在Mounts 节点我们可以看到/learn 目录对应的宿主机目录，进入：/var/lib/docker/volumes/858c12a2fed04733b27256ae57a1f76455e9f0030182ad405bf5fd5aa049c54d/_datadocker inspect 4bc0f1e4a005查看宿主机的目录，我们可以发现我们在容器中创建的 testvolume 文件夹目录可以多个容器中的Volume指向宿主机的同一个目录，实现基于文件的的共享访问基于容器数据的的单主机互联 基于Link的互联启用一个mysql docker 容器 docker run --rm=true --name=marspiedb -e MYSQL_ROOT_PASSWORD=123456 mysql 查看我们创建的marspiedb 详细信息 # docker inspect marspiedb Docker默认允许container互通，通过-icc=false关闭互通。一旦关闭了互通，只能通过-link name:alias命令连接指定container.– link redis:db的别名，会在/etc/hosts中生成对应的ip映射Link跨主机的互联,使用 Docker远程代理（Ambassador）模式，https://github.com/gliderlabs/connectablesocat是一个多功能的网络工具，名字来由是”Socket CAT” 基于网络的互联 最常用的方式端口映射，将docker端口映射到宿主机，直接通过宿主机IP：映射端口 访问docker run --rm=true --name=marspiedb -p 3306:3306 -e MYSQL_ROOT_PASSWORD=123456 mysql 直接使用宿主机网络docker run --rm=true --net=host --name=marspiedb -e MYSQL_ROOT_PASSWORD=123456 mysql 容器共用一个IP地址docker run --rm=true --name=marspiedb -e MYSQL_ROOT_PASSWORD=123456 mysql docker run --rm=true --net=container:marspiedb java ip addr 同一个IP 使用localhost 就可以很愉快的访问(⊙o⊙)哦]]></content>
      <categories>
        <category>微服务</category>
        <category>docker</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Docker之旅-Docker镜像制作]]></title>
    <url>%2F2017%2F07%2F25%2F170725-Docker%E4%B9%8B%E6%97%85-Docker%E9%95%9C%E5%83%8F%E5%88%B6%E4%BD%9C%2F</url>
    <content type="text"><![CDATA[制作自己的Docker镜像制作自己的Docker镜像有两种方式 将容器变成镜像 通过Buildfile语法制作镜像 将容器变成镜像首先我们先从docker镜像仓库拉取一个tomcat镜像，切换到root账号123456789# docker search tomcatNAME DESCRIPTION STARS OFFICIAL AUTOMATEDtomcat Apache Tomcat is an open source implementa... 1419 [OK] tomee Apache TomEE is an all-Apache Java EE cert... 38 [OK] dordoka/tomcat Ubuntu 14.04, Oracle JDK 8 and Tomcat 8 ba... 37 [OK]davidcaste/alpine-tomcat Apache Tomcat 7/8 using Oracle Java 7/8 wi... 19 [OK]consol/tomcat-7.0 Tomcat 7.0.57, 8080, "admin/admin" 16 [OK]cloudesire/tomcat Tomcat server, 6/7/8 15 [OK].... 这里会列出镜像仓库 中一堆的tomcat相关的镜像资源，下面我们拉取一个到本地。12345# docker pull dordoka/tomcat//等待一段时间拉取完成# docker imagesREPOSITORY TAG IMAGE ID CREATED SIZEdordoka/tomcat latest 7d9888a99efb 7 months ago 780 MB 启动容器12345678910111213141516171819# docker run -it -p 8080:8080 dordoka/tomcat//查看所有容器# docker psCONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES9a987406fc9e dordoka/tomcat "/opt/tomcat/bin/c..." 2 minutes ago Up About a minute 8009/tcp, 0.0.0.0:8080-&gt;8080/tcp flamboyant_darwin// 下面我们进入容器，做一些修改# docker exec -it 9a987406fc9e /bin/bashroot@9a987406fc9e:/opt/tomcat# cd webappsroot@9a987406fc9e:/opt/tomcat/webapps# lshost-manager manager// 接下来在webapps目录下创建一个ROOT目录，并在里面新建一个index.html页面root@9a987406fc9e:/opt/tomcat/webapps# mkdir ROOTroot@9a987406fc9e:/opt/tomcat/webapps# cd ROOT/root@9a987406fc9e:/opt/tomcat/webapps/ROOT# touch index.html// 在Html页面写些内容，比如 Hello World!root@9a987406fc9e:/opt/tomcat/webapps/ROOT# vi index.html // 编辑完退出 containerroot@9a987406fc9e:/opt/tomcat/webapps/ROOT# exitexit 在宿主机上通过浏览器访问 http://localhost:8080 就能看到我们对于容器的修改。 将我们修改好的容器制作成镜像通过docker commit [repo:tag] 将容器制作成镜像1234567# docker commit 9a987406fc9e marspie/tomcat:1.0sha256:8887c9ac97bc3f3fc5767bf714f058035f4f89cd24162a57844140d755a505a1//查看本地镜像，可以看到我们制作好的marspie/tomcat 1.0版# docker imagesREPOSITORY TAG IMAGE ID CREATED SIZEmarspie/tomcat 1.0 8887c9ac97bc 49 seconds ago 780 MBdordoka/tomcat latest 7d9888a99efb 7 months ago 780 MB 将容器制作成镜像的做法： 优点 缺点 最方便，最快速 不规范，无法自动化 Buildfile 制作镜像下面我们通过Buildfile文件来制作一个jdk1.8-tomcat8的镜像。 首先我们从Oracle官网下载: jdk-8u144-linux-x64.tar.gz 下载Tomcat8 Apache官网下载：apache-tomcat-8.5.16.tar.gz Buildfile 文件内容如下 123456789101112131415161718192021222324252627282930# VERSION 0.0.1# ubuntu server FROM ubuntu# 签名MAINTAINER MARSPIE "marspie@126.com"# 把java与tomcat添加到容器中 ADD jdk-8u144-linux-x64.tar.gz /usr/local/ADD apache-tomcat-8.5.16.tar.gz /usr/local/# 配置java与tomcat环境变量 ENV JAVA_HOME /usr/local/jdk1.8.0_144ENV CLASSPATH $JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jarENV TOMCAT_HOME /usr/local/apache-tomcat-8.5.16 ENV PATH $PATH:$JAVA_HOME/bin:$TOMCAT_HOME/lib:$TOMCAT_HOME/bin # 容器运行时监听的端口 EXPOSE 8080 ENTRYPOINT ["/usr/local/apache-tomcat-8.5.16/bin/catalina.sh", "run"]#CMD /usr/local/apache-tomcat-8.5.16/bin/catalina.sh run``` 4. 将如上准备的3个文件至于同一目录下``` bash[root@bogon docker]# ls -ltotal 190372-rwxrw-rw-. 1 alex alex 9417469 Jul 30 18:28 apache-tomcat-8.5.16.tar.gz-rw-------. 1 alex alex 654 Jul 30 19:09 Dockerfile-rwxrw-rw-. 1 alex alex 185515842 Jul 30 18:34 jdk-8u144-linux-x64.tar.gz 使用如下命令制作镜像 123456789101112131415161718192021222324252627282930313233[root@bogon docker]# docker build -t marspie/ubuntu-tomcat8:0.0.2 .Sending build context to Docker daemon 194.9 MBStep 1/10 : FROM ubuntu ---&gt; 14f60031763dStep 2/10 : MAINTAINER MARSPIE "marspie@126.com" ---&gt; Using cache ---&gt; 9e2681f280b5Step 3/10 : ADD jdk-8u144-linux-x64.tar.gz /usr/local/ ---&gt; Using cache ---&gt; e69764710ed4Step 4/10 : ADD apache-tomcat-8.5.16.tar.gz /usr/local/ ---&gt; Using cache ---&gt; 9cef7a3e804bStep 5/10 : ENV JAVA_HOME /usr/local/jdk1.8.0_144 ---&gt; Using cache ---&gt; 54b3e6339868Step 6/10 : ENV CLASSPATH $JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar ---&gt; Using cache ---&gt; 463ccbe97778Step 7/10 : ENV TOMCAT_HOME /usr/local/apache-tomcat-8.5.16 ---&gt; Using cache ---&gt; 9455c2777e34Step 8/10 : ENV PATH $PATH:$JAVA_HOME/bin:$TOMCAT_HOME/lib:$TOMCAT_HOME/bin ---&gt; Using cache ---&gt; 5fc99c79cfe5Step 9/10 : EXPOSE 8080 ---&gt; Using cache ---&gt; 63aa2690221fStep 10/10 : ENTRYPOINT /usr/local/apache-tomcat-8.5.16/bin/catalina.sh run ---&gt; Running in ef7da9894470 ---&gt; 55eebdf6b21dRemoving intermediate container ef7da9894470Successfully built 55eebdf6b21d 运行下我们制作的tomcat镜像 1# docker run -it -p 8080:8080 55eebdf6b21d 测试，通过宿主机浏览器访问：http://localhost:8080 看到tomcat的欢迎页面，好了通过Dockerfile制作镜像成功了。 Docker 镜像的导入导出将镜像导出为文件1#docker save -o marspie-ubuntu-tomcat8.0.02.tar marspie/ubuntu-tomcat8:0.0.2 完成后通过 ls 命令即可看到文件 将我们打包导出的镜像包上传至另一台虚机镜像导入docker load这样我们又可以在这台虚机愉快的玩耍了O(∩_∩)O~]]></content>
      <categories>
        <category>微服务</category>
        <category>docker</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[ubuntu 16.04 LTS RabbitMQ 3.6.10 安装配置]]></title>
    <url>%2F2017%2F06%2F21%2F170621-ubuntu-16-04-LTS-RabbitMQ-3-6-10-%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE%2F</url>
    <content type="text"><![CDATA[RabbitMQ 安装配置RabbitMQ 已经经历了10 来个春夏秋冬，全球超过35000生产部署RabbitMQ，RabbitMQ是最受欢迎的开源消息队列，正如官网的介绍： RabbitMQ is the most widely deployed open source message broker With more than 35,000 production deployments of RabbitMQ world-wide at small startups and large enterprises, RabbitMQ is the most popular open source message broker. RabbitMQ 安装 访问RabbitMQ官网 下载对应系统版本，这里我们下载Debian Ubuntu 对应的版本。 将下载的rabbitmq-server_3.6.10-1_all.deb 安装包放于用户家目录下work目录。alex@ubuntu:~$ cd work/ alex@ubuntu:~/work$ ls -l total 4772 -rwxrw-rw- 1 alex alex 4885200 Jun 21 01:29 rabbitmq-server_3.6.10-1_all.deb alex@ubuntu:~/work$ 使用 dpkg 命令安装 rabbitmqdpkg 参见：Ubuntu下deb包的安装方法` bashalex@ubuntu:~/work$ sudo dpkg -i rabbitmq-server_3.6.10-1_all.deb[sudo] password for alex:Selecting previously unselected package rabbitmq-server.(Reading database … 208585 files and directories currently installed.)Preparing to unpack rabbitmq-server_3.6.10-1_all.deb …Unpacking rabbitmq-server (3.6.10-1) …dpkg: dependency problems prevent configuration of rabbitmq-server:rabbitmq-server depends on erlang-nox (&gt;= 1:16.b.3) | esl-erlang; however:Package erlang-nox is not installed.Package esl-erlang is not installed.rabbitmq-server depends on socat; however:Package socat is not installed. dpkg: error processing package rabbitmq-server (–install): dependency problems - leaving unconfiguredProcessing triggers for man-db (2.7.5-1) …Processing triggers for systemd (229-4ubuntu10) …Processing triggers for ureadahead (0.100.0-19) …Errors were encountered while processing: rabbitmq-server 如上rabbitmq-server依赖于erlang-nox，下面安装输入：sudo apt-get install erlang-nox but 依然报错 ``` bash alex@ubuntu:~/work$ sudo apt-get install erlang-nox Reading package lists... Done Building dependency tree Reading state information... Done You might want to run &apos;apt-get -f install&apos; to correct these: The following packages have unmet dependencies: erlang-nox : Depends: erlang-base but it is not going to be installed or erlang-base-hipe but it is not going to be installed Depends: erlang-asn1 but it is not going to be installed Depends: erlang-corba but it is not going to be installed Depends: erlang-crypto but it is not going to be installed Depends: erlang-diameter but it is not going to be installed Depends: erlang-edoc but it is not going to be installed Depends: erlang-eldap but it is not going to be installed Depends: erlang-erl-docgen but it is not going to be installed Depends: erlang-eunit but it is not going to be installed Depends: erlang-ic but it is not going to be installed Depends: erlang-inets but it is not going to be installed Depends: erlang-mnesia but it is not going to be installed Depends: erlang-odbc but it is not going to be installed Depends: erlang-os-mon but it is not going to be installed Depends: erlang-parsetools but it is not going to be installed Depends: erlang-percept but it is not going to be installed Depends: erlang-public-key but it is not going to be installed Depends: erlang-runtime-tools but it is not going to be installed Depends: erlang-snmp but it is not going to be installed Depends: erlang-ssh but it is not going to be installed Depends: erlang-ssl but it is not going to be installed Depends: erlang-syntax-tools but it is not going to be installed Depends: erlang-tools but it is not going to be installed Depends: erlang-webtool but it is not going to be installed Depends: erlang-xmerl but it is not going to be installed rabbitmq-server : Depends: socat but it is not going to be installed E: Unmet dependencies. Try &apos;apt-get -f install&apos; with no packages (or specify a solution). 根据提示，执行 apt-get -f install中途提示：Do you want to continue? [Y/n] 输入 Y alex@ubuntu:~/work$ sudo apt-get -f install Reading package lists... Done Building dependency tree Reading state information... Done Correcting dependencies... Done The following additional packages will be installed: erlang-asn1 erlang-base erlang-corba erlang-crypto erlang-diameter erlang-edoc erlang-eldap erlang-erl-docgen erlang-eunit erlang-ic erlang-inets erlang-mnesia erlang-nox erlang-odbc erlang-os-mon erlang-parsetools erlang-percept erlang-public-key erlang-runtime-tools erlang-snmp erlang-ssh erlang-ssl erlang-syntax-tools erlang-tools erlang-webtool erlang-xmerl libodbc1 libsctp1 socat Suggested packages: erlang erlang-manpages erlang-doc xsltproc fop erlang-ic-java erlang-observer libmyodbc odbc-postgresql tdsodbc unixodbc-bin lksctp-tools The following NEW packages will be installed: erlang-asn1 erlang-base erlang-corba erlang-crypto erlang-diameter erlang-edoc erlang-eldap erlang-erl-docgen erlang-eunit erlang-ic erlang-inets erlang-mnesia erlang-nox erlang-odbc erlang-os-mon erlang-parsetools erlang-percept erlang-public-key erlang-runtime-tools erlang-snmp erlang-ssh erlang-ssl erlang-syntax-tools erlang-tools erlang-webtool erlang-xmerl libodbc1 libsctp1 socat 0 upgraded, 29 newly installed, 0 to remove and 326 not upgraded. 1 not fully installed or removed. Need to get 19.6 MB of archives. After this operation, 36.9 MB of additional disk space will be used. Do you want to continue? [Y/n] Y .... Adding system user `rabbitmq' (UID 124) ... Adding new user `rabbitmq' (UID 124) with group `rabbitmq' ... Not creating home directory `/var/lib/rabbitmq'. Setting up libsctp1:amd64 (1.0.16+dfsg-3) ... Processing triggers for libc-bin (2.23-0ubuntu9) ... Processing triggers for systemd (229-4ubuntu10) ... Processing triggers for ureadahead (0.100.0-19) ... 再次输入：sudo dpkg -i rabbitmq-server_3.6.10-1_all.deb alex@ubuntu:~/work$ sudo dpkg -i rabbitmq-server_3.6.10-1_all.deb (Reading database ... 210659 files and directories currently installed.) Preparing to unpack rabbitmq-server_3.6.10-1_all.deb ... Unpacking rabbitmq-server (3.6.10-1) over (3.6.10-1) ... Setting up rabbitmq-server (3.6.10-1) ... Processing triggers for man-db (2.7.5-1) ... Processing triggers for systemd (229-4ubuntu10) ... Processing triggers for ureadahead (0.100.0-19) ... 显然如上结果，表示 rabbitmq-server 安装完成，启动rabbitmq-server 服务 // 启动 rabbitmq-server alex@ubuntu:~/work$ sudo service rabbitmq-server start // 停止 rabbitmq-server alex@ubuntu:~/work$ sudo service rabbitmq-server stop // 重启 rabbitmq-server alex@ubuntu:~/work$ sudo service rabbitmq-server restart 若通过终端安装程序sudo apt-get install xxx时出错：sudo apt-get install erlang-nox E: Could not get lock /var/lib/dpkg/lock - open (11: Resource temporarily unavailable) E: Unable to lock the administration directory (/var/lib/dpkg/), is another process using it 通过如下强制解锁,命令$ sudo rm /var/lib/dpkg/lock 再次输入安装命令，可能会会提示 “E: dpkg 被中断，您必须手工运行 sudo dpkg –configure -a 解决此问题”按照提示执行：sudo dpkg –configure -a RabbitMQ 管理插件 management pluginRabbitMQ 默认已经集成了management plugin，通过命令enable即可 $ cd /usr/lib/rabbitmq/bin/ $ sudo rabbitmq-plugins enable rabbitmq_management The following plugins have been enabled: amqp_client cowlib cowboy rabbitmq_web_dispatch rabbitmq_management_agent rabbitmq_management Applying plugin configuration to rabbit@ubuntu... started 6 plugins. ..... 当显示如上信息，打开浏览器访问：http://localhost:15672输入默认用户名/密码：guest/guest 登陆Web管理页： guest用户只能从localhost地址登录，如果要配置远程登录，必须创建用户 通过Web管理页面添加用户并设置权限，点击用户进入授权页面，默认直接点击”set permission”即可 通过命令添加用户,并分配权限：$ sudo rabbitmqctl add_user admin admin Creating user &quot;admin&quot; $ sudo rabbitmqctl set_user_tags admin administrator Setting tags for user &quot;admin&quot; to [administrator] $ sudo rabbitmqctl set_permissions -p / admin &quot;.*&quot; &quot;.*&quot; &quot;.*&quot; Setting permissions for user &quot;admin&quot; in vhost &quot;/&quot; 设置完成后，RabbitMQ就可以远程通过 http://rabbitmq_ip:15672 访问了。]]></content>
      <categories>
        <category>高性能架构</category>
        <category>rabbitmq</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Error: Module version mismatch. Expected 48, got 46.]]></title>
    <url>%2F2017%2F06%2F05%2F170605-Error-Module-version-mismatch-Expected-48-got-46%2F</url>
    <content type="text"><![CDATA[Hexo 是一个简单地、轻量地、基于Node的一个静态博客框架。 Hexo Admin Plugin 是可以为Hexo提供后台管理的插件，今天安装了一下hexo-admin的修改版：hexo-admin-qiniu进入之前安装的blog目录 123456789101112131415161718192021$ npm install --save hexo-admin-qiniu.....$ hexo server -dError: Module version mismatch. Expected 48, got 46. at Error (native) at Object.Module._extensions..node (module.js:597:18) at Module.load (module.js:487:32) at tryModuleLoad (module.js:446:12) at Function.Module._load (module.js:438:3) at Module.require (module.js:497:17) at require (internal/module.js:20:19) at Object.&lt;anonymous&gt; (/usr/local/lib/node_modules/hexo-cli/node_modules/hexo-log/node_modules/bunyan/node_modules/dtrace-provider/dtrace-provider.js:17:23) at Module._compile (module.js:570:32) at Object.Module._extensions..js (module.js:579:10) at Module.load (module.js:487:32) at tryModuleLoad (module.js:446:12) at Function.Module._load (module.js:438:3) at Module.require (module.js:497:17) at require (internal/module.js:20:19) at Object.&lt;anonymous&gt; (/usr/local/lib/node_modules/hexo-cli/node_modules/hexo-log/node_modules/bunyan/lib/bunyan.js:79:18) 错误提示模块的版本不匹配，可能是因为hexo版本 与很多模块更新不匹配了,尝试删除所有模块，重新安装无果 $ rm -rf node_modules $ npm install 所以我们重新安装配置下Hexo,解决方法：执行以下代码： $ npm install hexo --no-optional $ npm install hexo-cli -g npm WARN checkPermissions Missing write access to /usr/local/lib/node_modules/hexo-cli/node_modules/bluebird npm WARN checkPermissions Missing write access to /usr/local/lib/node_modules/hexo-cli/node_modules/chalk/node_modules/has-ansi/node_modules/ansi-regex npm WARN checkPermissions Missing write access to /usr/local/lib/node_modules/hexo-cli/node_modules/chalk/node_modules/strip-ansi/node_modules/ansi-regex npm WARN checkPermissions Missing write access to /usr/local/lib/node_modules/hexo-cli/node_modules/hexo-fs/node_modules/chokidar/node_modules/anymatch/node_modules/micromatch/node_modules/arr-diff/node_modules/arr-flatten .... npm ERR! Darwin 16.6.0 npm ERR! argv "/usr/local/bin/node" "/usr/local/bin/npm" "install" "hexo-cli" "-g" npm ERR! node v6.10.1 npm ERR! npm v3.10.10 npm ERR! path /usr/local/lib/node_modules/hexo-cli/node_modules/bluebird npm ERR! code EACCES npm ERR! errno -13 npm ERR! syscall access npm ERR! Error: EACCES: permission denied, access '/usr/local/lib/node_modules/hexo-cli/node_modules/bluebird' npm ERR! at Error (native) npm ERR! { Error: EACCES: permission denied, access '/usr/local/lib/node_modules/hexo-cli/node_modules/bluebird' npm ERR! at Error (native) npm ERR! errno: -13, npm ERR! code: 'EACCES', npm ERR! syscall: 'access', npm ERR! path: '/usr/local/lib/node_modules/hexo-cli/node_modules/bluebird' } npm ERR! npm ERR! Please try running this command again as root/Administrator. npm ERR! Please include the following file with any support request: npm ERR! /Users/alex/Projects/blog/npm-debug.log 分析错误由于权限问题，重新执行 $ sudo npm install --unsafe-perm --verbose -g hexo Password: .... 安装完成，执行启动hexo $ hexo server -d INFO Start processing INFO Hexo is running at http://localhost:4000/. Press Ctrl+C to stop. 启动正常，浏览器访问：http://localhost:4000/admin 现在可以愉快的写博客了]]></content>
      <categories>
        <category>其他</category>
        <category>博客</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Mac之Git账号的坑]]></title>
    <url>%2F2017%2F06%2F04%2F170604-Mac%E4%B9%8BGit%E8%B4%A6%E5%8F%B7%E7%9A%84%E5%9D%91%2F</url>
    <content type="text"><![CDATA[Permission to xxx/xxxxx.git denied to username.之前使用mac终端中的git时，输入了用户名和密码，现在换了新的用户名密码后，clone下来的代码，修改后push 却提示 remote: Permission to marspie/marspie-demo.git denied to yaonew.fatal: unable to access ‘https://github.com/marspie/marspie-demo.git/&#39;: The requested URL returned error: 403 其中yaonew是我第一次使用的用户名，现在已经使用了新的用户了。尝试重新 ssh-keygen 生成密钥，github添加新的密钥，无果。 经过网络搜索，有提出同样问题的，但是回复寥寥无几且没有能真正解决问题的，于是变化思路查找：Mac多Git账号配置，找到了一个帖子：http://suqianghotel.com/2016/09/13/mac-mulit-git-account-config/ 在文章的末尾找到了GitHub 官网的帮助文档：GitHub help Updating credentials from the OSX KeychainYou’ll need to update your saved username and password in the git-credential-osxkeychain helper if you change your password or username on GitHub. Updating your credentials via Keychain Access In Finder, search for the Keychain Access app. In Keychain Access, search for github.com. Find the “internet password” entry for github.com. Edit or delete the entry accordingly. Deleting your credentials via the command lineThrough the command line, you can use the credential helper directly to erase the keychain entry. To do this, type the following command: $ git credential-osxkeychain erase host=github.com protocol=https [Press Return] If it’s successful, nothing will print out. To test that it works, try and clone a repository from GitHub. If you are prompted for a password, the keychain entry was deleted. 重新 git push$ git push origin master Username for 'https://github.com': marspie Password for 'https://marspie@github.com': Counting objects: 8, done. Delta compression using up to 8 threads. Compressing objects: 100% (8/8), done. Writing objects: 100% (8/8), 628 bytes | 0 bytes/s, done. Total 8 (delta 5), reused 0 (delta 0) remote: Resolving deltas: 100% (5/5), completed with 5 local objects. To https://github.com/marspie/marspie-demo.git 32fe0cd..0a71a8a master -&gt; master OK 搞定， tag!]]></content>
      <categories>
        <category>协作</category>
        <category>git</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Docker之旅-Docker入门]]></title>
    <url>%2F2017%2F04%2F09%2F170409-Docker%E4%B9%8B%E6%97%85-Docker%E5%85%A5%E9%97%A8%2F</url>
    <content type="text"><![CDATA[Docker组件 (C/S架构) docker client ：Docker客户端 docker server ：Docker daemon 主要组成部分 接收client 请求 并按照路由规则实现路由分发 docker image : docker 镜像运行之后变成容器（docker run） docker registry: registry是docker镜像的中央存储仓库（pull /push） Docker镜像构建docker build -t registry_url/namespace/marspie/centos:7.1[latest] .[.代表Dockerfile在当前路径下] 运行容器Usage: docker run [OPTIONS] IMAGE [COMMAND] [ARG…]docker run -it (交互模式) —name base marspie/centos:7.1 -d 后端运行 -p host_point：container_point -P 随机分配端口映射 -v host_dir:container_dir 容器目录与宿主机目录映射 查看所有containerdocker ps （只能查看UP状态的container）docker ps -a 进入docker容器只有UP状态的docker容器可以进入访问docker exec -it website(container_id/container_name) /bin/bash退出exit 删除docker容器docker rm -f(强制删除) 名字/id 停止docker容器docker stop （container_id/container_name） 查看所有镜像docker images 删除镜像docker rmi (image_id/image_name)]]></content>
      <categories>
        <category>微服务</category>
        <category>docker</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Thinking change 2017]]></title>
    <url>%2F2017%2F03%2F27%2F170327-Thinking-change-2017%2F</url>
    <content type="text"><![CDATA[2017年已过三个月，作为程序猿、码农的IT群中的一员，是该抽空思考下… 一平时有空喜欢逛下头条，这张职业规范图中是否有一天发展路线适合我，值得思考，虽然现在还处于E象限，I象限是我的终极目标了，呵呵！ 二读书，显然读书能增加个人的知识面，当然不能只局限于工作相关的书籍，其他领域也要多涉及，正如一位牛人所说，如何让别人觉得你牛逼呢，跟JAVA的开发聊PHP，跟PHP的开发聊JAVA, 跟python的开发人员聊c++，那如果聊天的对象都懂点呢？ 那就跟他聊历史O(∩_∩)O哈哈~，所以要让自己在别人眼中牛逼，各方面知识都要有所涉及。当然现在这种知识飞速发展的时代，真正能静下心来看书主动学习的人并不是很多，我们可以借用别人的大脑学习，各种听书的APP，总归听比看方便多少，以及别人的一些领会，可以都我们的学习有一点启发。2017时刻提醒自己多读些书。 三运动，有个好的身体才能更好的学习，生活，工作，每个星期至少运动个两到三次吧，打打球、跑跑步、爬爬山都可以，该行动了，为了改变，以前太懒，现在为了更好的自己，我需要这么做。 四创作，拓展自己的思维，发布一些作品，比如一个开源项目，创作一本漫画，或者作为自媒体多写些文章，创作来源于生活，是的我应该好好生活，提高自己从现在开始。 五程序猿的世界往往比较简单，不是在coding,就是在去coding的路上，丰富自己的生活，尝试一些跨界的事物，增加一些兴趣爱好，学学书法，让自已这颗浮躁的心安静下来。 2017 为了更好的自己thinking change.]]></content>
      <categories>
        <category>其他</category>
        <category>随笔</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[文档书写工具-gitbook介绍]]></title>
    <url>%2F2017%2F03%2F25%2F170325-%E6%96%87%E6%A1%A3%E4%B9%A6%E5%86%99%E5%B7%A5%E5%85%B7-gitbook%E4%BB%8B%E7%BB%8D%2F</url>
    <content type="text"><![CDATA[什么是gitbookgitbook 是基于Node.js的命令行工具，可以使用github、git Markdown 书写电子书，可以作为自己知识的积累，书写API文档，将平时学习生活中的文字记录，出版电子书等等。 gitbook安装gitbook基于Node.js所以第一步安装Node.js的支持，访问Nodejs官网下载对应版本安装 验证安装打开命令行终端 $ node -v v6.10.1 若能打印出Nodejs版本，表示安装成功 gitbook命令行安装$ npm install -g gitbook-cli 安装完成接着输入 gitbook -V 查看版本 $ gitbook -V CLI version: 2.3.0 gitbook 常用命令//初始化图书 $ gitbook init //生成html，生成路径图书文件目录下_book文件夹 $ gitbook build //网页浏览器查看图书 $ gitbook serve //linux下可生成pdf文件，需安装pdf依赖 $ npm install gitbook-pdf -g $ gitbook pdf gitbook客户端 GitBook Editor有了gitbook客户端可以方便的管理书写我们的电子书，官方下载GitBook Editor 总得使用下来感受还可以，初始化打开启动稍慢，gitbook文档与GitHub可以实现同步，简单一个按钮 publish&amp;Sync 可以将文档保存至gitbook以及同步至GitHub，perfect。]]></content>
      <categories>
        <category>其他</category>
        <category>工具</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[170324-Docker之旅-CentOS7中安装Docker]]></title>
    <url>%2F2017%2F03%2F24%2F170324-Docker%E4%B9%8B%E6%97%85-CentOS7%E4%B8%AD%E5%AE%89%E8%A3%85Docker%2F</url>
    <content type="text"><![CDATA[CentOS7中安装Docker服务支持 yum update1$ sudo yum update Get Docker CE on CentOSYou can install Docker CE on CentOS in just three steps.Enterprise customers can also install Docker EE for CentOS.Prerequisites Docker CE is supported on CentOS 7.3 64-bit. 1. Set up the repositorySet up the Docker CE repository on CentOS: 1234567$ sudo yum install -y yum-utils$ sudo yum-config-manager \ --add-repo \ https://download.docker.com/linux/centos/docker-ce.repo$ sudo yum makecache fast 2. Get Docker CEInstall the latest version of Docker CE on CentOS:1$ sudo yum -y install docker-ce Start Docker:1$ sudo systemctl start docker 3. Test your Docker CE installationTest your installation:1$ sudo docker run hello-world 设置为开机自启1$ sudo chkconfig docker on]]></content>
      <categories>
        <category>微服务</category>
        <category>docker</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Docker之旅-介绍]]></title>
    <url>%2F2017%2F03%2F24%2F170324-Docker%E4%B9%8B%E6%97%85-%E4%BB%8B%E7%BB%8D%2F</url>
    <content type="text"><![CDATA[Docker是什么Docker 是一个开源的应用容器引擎，让开发者可以打包他们的应用以及依赖包到一个可移植的容器中，然后发布到任何流行的 Linux 机器上，也可以实现虚拟化。容器是完全使用沙箱机制，相互之间不会有任何接口,自2013年发行以来此项虚拟化容器技术得到了广泛发展。 从2016年Docker明确了将会在企业级方面重点跟进，2017年3月之后Docker分为两个版本Docker Community Edition(docker-ce)、Docker Enterprise Edition(docker-ee) CE与EE区别 收费方式 土豪伙伴土豪小伙伴早已跟上]]></content>
      <categories>
        <category>微服务</category>
        <category>docker</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Linux 介绍]]></title>
    <url>%2F2017%2F03%2F18%2F170318-Linux-%E4%BB%8B%E7%BB%8D%2F</url>
    <content type="text"><![CDATA[Linux是一套免费使用和自由传播的类Unix操作系统，是一个基于POSIX和UNIX的多用户、多任务、支持多线程和多CPU的操作系统。它能运行主要的UNIX工具软件、应用程序和网络协议。它支持[32位]和[64位]硬件。Linux继承了[Unix]以[网络]为核心的设计思想，是一个性能稳定的多用户网络操作系统 Linux介绍Linux核心理念：万物皆目录文件Linux: 是一个内核，而不是一个操作系统；因此我们平时常说的“操作系统是 Windows\Mac还是Linux?作者芬兰研究生 LINUSUnix Like : 很像Unix的操作系统 Linux学习方法 做笔记 多实验 理解记忆 Linux优点 开放的学习环境 漏洞快速修补 内核只有几百K，适合嵌入式 Linux缺点 有些专业软件没有Linux版本 Linux 分支 Redhat centos 2014 被红帽收购 XFS文件系统 Fedora 红帽公司的桌面版 中国红旗 RHCE redhat考题全英文 从事工作1、linux运维2、运维开发3、mysqlDBA4、安全运维5、大数据运维云计算运维6、架构师]]></content>
      <categories>
        <category>架构师</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>IT</tag>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[1024 程序猿们的节日礼物？]]></title>
    <url>%2F2016%2F10%2F24%2F161024-%E7%A8%8B%E5%BA%8F%E7%8C%BF%E4%BB%AC%E7%9A%84%E8%8A%82%E6%97%A5%2F</url>
    <content type="text"><![CDATA[今天1024了，虽然刚从安吉游玩回来，拖着疲惫的身体，但任然想着是不是能为程序猿朋友们谋求些节日礼物，这是怎样一种精神，O(∩_∩)O哈哈~在这里先祝程序员们，节日快乐！什么是程序猿们最想要的节日礼物呢？HTML贺卡？鼠标键盘？耳机？各种智能设备？女朋友？好吧，打开siri 来个妞吧，然而，竟然她也无能为力，呵呵，能够把握机会的程序猿回这么跟自己❤️爱的妹子说： 1024了你该给我个礼物了吧！扯个淡，各位晚安😁！]]></content>
      <categories>
        <category>其他</category>
        <category>随笔</category>
      </categories>
      <tags>
        <tag>1024</tag>
        <tag>节日</tag>
        <tag>程序猿</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[十一假期随笔]]></title>
    <url>%2F2016%2F10%2F04%2F161004-%E5%8D%81%E4%B8%80%E5%81%87%E6%9C%9F%E9%9A%8F%E7%AC%94%2F</url>
    <content type="text"><![CDATA[开心假期，不谈枯燥的技术，只谈风月 O(∩_∩)O~国庆长假回到我那亲爱的家乡中国茧都-东台富安。这里盛产桑蚕，这里有特色的鱼汤面。这里有我最思恋的亲人，有我亲梅逐马的“情人”。虽然目“堵”了一路的回家车队壮观，也难没灭回家的热情。此时正当是秋蚕上山结茧的时候，父母们已忙的昏天黑地。作为都是农民的父母，是通过养蚕来供我上学读书，所以对于蚕总是有种特殊的感情！养蚕的辛苦，只有养蚕人才能体会，假期了回家看看，看看鬓发日益霜白的父亲母亲，看看可爱的蚕宝宝！看看即将丰收的稻田，看看久未联络的亲人朋友！ 祝富（gui）安（kang）！ Alex · 富安]]></content>
      <categories>
        <category>其他</category>
        <category>随笔</category>
      </categories>
      <tags>
        <tag>十一</tag>
        <tag>假期</tag>
        <tag>随笔</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaWeb整合Discuz实现单点登录]]></title>
    <url>%2F2016%2F09%2F26%2F160926-JavaWeb%E6%95%B4%E5%90%88Discuz%E5%AE%9E%E7%8E%B0%E5%8D%95%E7%82%B9%E7%99%BB%E5%BD%95%2F</url>
    <content type="text"><![CDATA[为了丰富员工业余生活，增多交流机会，于是在公司搭建了论坛方便大家灌水，目前公司中企业级应用是基于JAVAEE的产品，论坛选用了比较受欢迎的Discuz 3.2, 为了避免二次登陆使用单点登陆解决，虽然查找了各种资料做集成，但是其中还是遇到了些问题，翻墙发现了：discuz-ucenter-api-for-java因为被墙，在国内无法访问code.google.com，已将测试代码做了部分调整上传至GitHub:https://github.com/yaonew/discuz-ucenter_api_for_java 第一步配置config.properties12345UC_API = http://你的discuz地址/uc_server 如http://localhost/bbs/uc_serverUC_IP = 正常情况下留空即可UC_KEY = N3M117R45aWfqfe4xcu0OfTcAT3r4K6f2KRoUOFYT（与ucenter通信的密钥，这里自己设定，需与discuz ucenter 一致）UC_APPID = 2 //appID为UCenter中应用管理中的ID，见UCenter设置UC_CONNECT = 正常情况下留空即可 第二步 配置web.xml,添加如下123456789&lt;servlet&gt; &lt;servlet-name&gt;api&lt;/servlet-name&gt; &lt;servlet-class&gt;com.fivestars.interfaces.bbs.api.UC&lt;/servlet-class&gt; &lt;load-on-startup&gt;2&lt;/load-on-startup&gt;&lt;/servlet&gt;&lt;servlet-mapping&gt; &lt;servlet-name&gt;api&lt;/servlet-name&gt; &lt;url-pattern&gt;/api/uc.php&lt;/url-pattern&gt;&lt;/servlet-mapping&gt; 第三步 配置ucenter管理员登陆UCenter : http://localhost/bbs/uc_server应用管理-&gt; 添加应用, 这边添加的应用ID，通信秘钥与第一步的配置保持一致配置完成，看到通信成功的信息，表示ucenter集成配置OK 第四步 访问测试页123456789101112131415161718192021222324252627282930313233343536373839404142434445464748&lt;%@page import="java.util.LinkedList"%&gt;&lt;%@page import="com.fivestars.interfaces.bbs.util.XMLHelper"%&gt;&lt;%@page import="com.fivestars.interfaces.bbs.client.Client"%&gt;&lt;%Client uc = new Client();//String result1 = uc.uc_user_register("test3", "test3", "test3@huaqi.info");//out.println("xxx" + result1);String result = uc.uc_user_login("test3", "test3");LinkedList&lt;String&gt; rs = XMLHelper.uc_unserialize(result);if(rs.size()&gt;0)&#123; int $uid = Integer.parseInt(rs.get(0)); String $username = rs.get(1); String $password = rs.get(2); String $email = rs.get(3); if($uid &gt; 0) &#123; response.addHeader("P3P"," CP=\"CURa ADMa DEVa PSAo PSDo OUR BUS UNI PUR INT DEM STA PRE COM NAV OTC NOI DSP COR\""); out.println("登录成功"); out.println($username); out.println($password); out.println($email); String $ucsynlogin = uc.uc_user_synlogin($uid); out.println("登录成功"+$ucsynlogin); //本地登陆代码 //TODO ... .... Cookie auth = new Cookie("auth", uc.uc_authcode($password+"\t"+$uid, "ENCODE")); auth.setMaxAge(31536000); //auth.setDomain("localhost"); response.addCookie(auth); Cookie user = new Cookie("uchome_loginuser", $username); response.addCookie(user); &#125; else if($uid == -1) &#123; out.println("用户不存在,或者被删除"); &#125; else if($uid == -2) &#123; out.println("密码错"); &#125; else &#123; out.println("未定义"); &#125;&#125;else&#123; out.println("Login failed"); System.out.println(result);&#125; %&gt; 访问页面返回一段js：登录成功test3test3test3@huaqi.info登录成功 1&lt;script type="text/javascript" src="http://localhost/api/uc.php?time=1474188863&amp;amp;code=6dfdhvNXKRoUOFYTR3Jn3ORQ2LKDd6cI6X5p4RD3yxyh6gy3%2F%2FQAJ5u8URp7qR%2F%2F0jaIoha2g4MnGRtosanyDihDy%2BIyW0zNNAnjkGHoaC1uyga5U2py%2F6%2F4uolQKBJaVI%2FMsM%2BuFUlttWcSmS7mzQoN%2Be0tzvPFZg2Y" reload=“1”&lt;/script&gt; 在浏览器中执行后访问 discus已保持登陆状态！]]></content>
      <categories>
        <category>其他</category>
        <category>论坛</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>web</tag>
        <tag>discuz</tag>
        <tag>php</tag>
        <tag>单点登录</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hexo搭建GitHub个人博客系统]]></title>
    <url>%2F2016%2F09%2F20%2F160920-Hexo%E6%90%AD%E5%BB%BAGitHub%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E7%B3%BB%E7%BB%9F%2F</url>
    <content type="text"><![CDATA[作为一名征战于IT行业多年的程序猴，之前都本着拿来主义的原则，吸收互联网上各种知识，资料文档，很少写过博文分享，真是惭愧，想来也是本人比较懒得原因，最近突然心血来潮，写点什么供大家分享也是极好的，先就将Hexo个人博客搭建于GitHub上作一记录，给想要搭建个人博客的宝宝们一个参考，文采有限，凑合着看吧。 Hexohexo是一款基于Node.js的静态博客框架。目前在GitHub上已有12121 star 和 1953 fork。 安装GitGit是神马，Git是一个开源的分布式版本控制系统，可以有效、高速的处理从很小到非常大的项目版本管理。……不用啰嗦了百度上多有，我们的博客系统是开源与GitHub上的，以及我们最终部署在GitHub上，需要用到Git这个工具。下载对应的系统的版本安装包，我这边以window为例，下载地址：https://git-scm.com/downloads/ 下载到git-xxx.exe安装包双击安装 下一步…下一步…安装完验证Git是否安装正确，cmd打开dos窗口，输入：git –version是否能打印出git版本，正常输出表示安装成功！ 12C:\Users\peekay&gt; git --version git version2.9.0.windows.1 安装Node.jsNode.js 是一个基于 Chrome V8 引擎的 JavaScript 运行环境。Node.js 使用了一个事件驱动、非阻塞式 I/O 的模型，使其轻量又高效。Node.js 的包管理器 npm，是全球最大的开源库生态系统。hexo是一款基于Node.js的静态博客框架，显然需要Node.js的支持登陆Node.js中文网地址：http://nodejs.cn/ 下载对应系统版本，双击安装 下一步…安装完成，cmd打开dos窗口，输入：node -v 正常输出表示安装成功！ 12C:\Users\peekay&gt; node -v v4.4.7 注册GitHub账号及设置登陆GitHub官网 https://github.com/ 有账号的使用账号登陆，没有的创建一个，具体不啰嗦，网上教程一堆，下一步下一步注册完成。 一、设置git的username，email,打开Git目录下的Git Bash，输入：123$ git config --global user.name "peekay"$ git config --global user.email "peekay@sina.cn" 二、生成秘钥在Git Bash 中输入: ssh-keygen 一路回车 123456789101112131415161718192021$ ssh-keygenGenerating public/private rsa key pair.Enter file in which to save the key (/c/Users/peeka/.ssh/id_rsa):Enter passphrase (empty for no passphrase):Enter same passphrase again:Your identification has been saved in /c/Users/peeka/.ssh/id_rsa.Your public key has been saved in /c/Users/peeka/.ssh/id_rsa.pub.The key fingerprint is:SHA256:u7Gm0/gYNWECusxcTmryX9BKNeGMUaFmVq3a/7Gjc4U peeka@DESKTOP-ANIM9KSThe key's randomart image is:+---[RSA 2048]----+| o.=o || . O .. || . O *.o || + X o.+ . ||. B +o. S . || + ..o.. oE . || . . o+o .. || . .oo=+oo || . o===o. |+----[SHA256]-----+ 最终的秘钥文件生成在用户家目录下的.ssh目录下。 三、将秘钥添加至GitHub用之前注册的账号登陆GitHub,Settings-&gt;SSH and GPG keys 点击 New SSH key, 将上一步家目录下.ssh/id_rsa.pub中的内容全部拷贝贴到key栏中，保存 四、新建仓库用于存放我们的博客Createa new repository 这里以 我们的用户名.github.io 安装Hexo程序进入Hexo官网 http://hexo.io 官网有详细的安装教程，若访问慢或压根打不开，还是国内你懂得，选择一个路径这里我们以E:为例 cmd到E盘，依次执行如下命令 12345678C:\Users\peekay&gt;e:E:\&gt;npm install hexo-cli -gE:\&gt;hexo init blogE:\&gt;cd blogE:\blog&gt;npm installE:\blog&gt;hexo serverINFO Start processingINFO Hexo is running at http://127.0.0.1:4000/. Press Ctrl+C to stop. 浏览器访问：http://127.0.0.1:4000 表示Hexo安装成功 将Hexo发布到GitHub配置Hexo编辑器打开E盘blog目录下的_config.yml文件 1234567891011121314151617# Site 设置站点标题 语言等信息title: Alex.Yao's Blogsubtitle:description:author: Alex.Yaolanguage: zh-Hanstimezone:.....# Deployment 配置git部署信息## Docs: https://hexo.io/docs/deployment.htmldeploy:type: gitrepository: https://github.com/yaonew/yaonew.github.io.gitbranch: master 部署Hexo 至GitHubcmd进入E盘blog目录 依次执行 12345E:\blog&gt;hexo cleanINFO Deleted database.E:\blog&gt;hexo generate .....E:\blog&gt;hexo deploy OK这样我们的博客系统就已经部署到GitHub上了，设置GitHub Pages这样我们的博客就可以通过 http://用户名.github.io访问了。 更换博客模版及相关的设置，当你如上的设置都OK的话，应该不难了，有机会我再补充有关模版更换设置等。就这样了，有什么问题可以给我留言。]]></content>
      <categories>
        <category>其他</category>
        <category>博客</category>
      </categories>
      <tags>
        <tag>GitHub</tag>
        <tag>hexo</tag>
        <tag>Git</tag>
        <tag>Node.js</tag>
        <tag>博客</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hello World]]></title>
    <url>%2F2016%2F09%2F16%2F160916-hello-world%2F</url>
    <content type="text"><![CDATA[Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new "My New Post" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment]]></content>
  </entry>
</search>
